{"version":3,"sources":["components/AnswerField.jsx","areas/clue/basic-clue.jsx","components/gem-selector.jsx","areas/clue/gem-clue.jsx","areas/clue/clue-not-found.jsx","areas/clue/clue-page.jsx","assets/images/loz-gravestone.png","components/gate/death-gate.jsx","components/gate/name-gate.jsx","components/gate/gate.jsx","components/confetti.jsx"],"names":["clueId","answer","onChange","useState","map","a","chars","setChars","refs","React","createRef","useEffect","inputValueChanged","i","e","value","newChars","join","trim","nextControl","current","focus","select","backspacePressed","onInputKeyDown","ix","keyCode","onInputKeyUp","key","className","type","maxLength","target","onKeyDown","onKeyUp","ref","clueData","onSolved","onNextButtonClicked","answers","setAnswers","confirmed","setConfirmed","previouslySolved","setPreviouslySolved","currentClueId","setCurrentClueId","answerNeeded","length","id","prevSolved","loadData","completedClues","some","c","onAnswerChange","index","newAnswers","confirmAnswers","correct","toLowerCase","clue","source","question","webAnswer","answerSubmitted","successMessage","onClick","renderSubmit","active","GemSelector","start","values","currentValue","setCurrentValue","setNextColor","delay","min","max","Math","floor","random","nextIndex","currentValueIndex","findIndex","x","loaded","setLoaded","showZip","setShowZip","showZap","setShowZap","showZop","setShowZop","setTimeout","GemValueChanged","every","currentAnswers","curData","deathDate","Date","saveData","window","location","reload","v","Row","Col","ClueNotFound","CluePage","props","globalState","useContext","store","history","useHistory","dispatch","match","params","clues","find","payload","hint","clueIndex","nextClue","push","onClueSolved","saveProgress","previousClue","getPreviousClue","style","fontSize","renderClue","module","exports","children","respawnTime","setRespawnTime","data","timeToSpawn","getTimeToSpawn","isStillDead","date","responseDate","setSeconds","getSeconds","src","gravestone","alt","renderer","hours","minutes","seconds","toString","padStart","onComplete","name","setName","nameInStorage","isTrueHero","onNameChange","testName","nametoTest","n","onNameSubmit","saveName","width","display","justifyContent","config","spread","angle"],"mappings":"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","file":"static/js/11.f7dce7a3.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport './AnswerField.css';\r\nimport { useEffect } from 'react';\r\n// const chestGif = require('../assets/images/chest3d.gif');\r\n\r\nexport default ({ clueId, answer, onChange }) => {\r\n\r\n    const [chars, setChars] = useState([...answer].map(a => ''));\r\n    const refs = [...answer].map(a => React.createRef());//[];\r\n\r\n    useEffect(() => {\r\n        setChars([...answer].map(a => ''));\r\n    }, [answer, clueId])\r\n\r\n    const inputValueChanged = (i, e, value) => {\r\n        const newChars = [...chars];\r\n        newChars[i] = value;\r\n        setChars(newChars);\r\n        onChange(newChars.join('').trim());\r\n\r\n        if (value) {\r\n            var nextControl = refs[i + 1];\r\n            if (nextControl && nextControl.current) {\r\n                nextControl.current.focus();\r\n                nextControl.current.select();\r\n            }\r\n        }\r\n    }\r\n    const onChangeHandler = ix => e => {\r\n        inputValueChanged(ix, e, e.target.value)\r\n    };\r\n\r\n    let backspacePressed = false;\r\n    const onInputKeyDown = ix => e => {\r\n        if (e.keyCode === 8) {\r\n            // Only run this code once while the backspace key is down\r\n            if (!backspacePressed) {\r\n                backspacePressed = true;\r\n                // If this input has no value, delete the value of the input before it.\r\n                if (!refs[ix].current.value && (ix - 1) >= 0) {\r\n                    // var previousInput = e.current.previousElementSibling;\r\n                    var previousInput = refs[ix - 1].current;\r\n                    previousInput.focus();\r\n\r\n                    // previousInput.value = '';\r\n\r\n                    inputValueChanged(ix - 1, '');\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const onInputKeyUp = e => {\r\n        if (e.keyCode === 8) {\r\n            backspacePressed = false;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {[...answer].map((a, i) => {\r\n                return (\r\n                    <span key={i} className=\"CharacterInputWrapper\">\r\n                        <input className=\"CharacterInput\"\r\n                            type=\"text\"\r\n                            maxLength={1}\r\n                            onChange={onChangeHandler(i)}\r\n                            onKeyDown={onInputKeyDown(i)}\r\n                            onKeyUp={onInputKeyUp}\r\n                            ref={refs[i]}\r\n                            value={chars[i]}\r\n                        />\r\n                    </span>\r\n\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport AnswerField from '../../components/AnswerField';\r\nimport Confetti from '../../components/confetti';\r\nimport { useEffect } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport { loadData, } from '../../data/save-data';\r\n\r\nexport default ({ clueData, onSolved, onNextButtonClicked }) => {\r\n\r\n  const [answers, setAnswers] = useState([]);\r\n  const [confirmed, setConfirmed] = useState(null);\r\n  const [previouslySolved, setPreviouslySolved] = useState(null);\r\n  const [currentClueId, setCurrentClueId] = useState(null);\r\n  const answerNeeded = () => ((clueData.answers || []).length > 0);\r\n\r\n  useEffect(() => {\r\n    setCurrentClueId(clueData.id);\r\n    const data = loadData();\r\n    const prevSolved = data.completedClues.some(c => c === clueData.id);\r\n    setPreviouslySolved(prevSolved)\r\n    setAnswers(!prevSolved ? [] : clueData.answers);\r\n    setConfirmed(null);\r\n    if (!answerNeeded()) {\r\n      onSolved(clueData.id);\r\n    }\r\n  }, [clueData])\r\n\r\n  const onAnswerChange = index => (value) => {\r\n    // setAnswer(e.target.value);\r\n    var newAnswers = [...answers];\r\n    newAnswers[index] = value;\r\n    setAnswers(newAnswers);\r\n  }\r\n\r\n  const confirmAnswers = () => {\r\n    var correct = true;\r\n    for (let i = 0; i < clueData.answers.length; i++) {\r\n      if (!answers[i]) {\r\n        // Answer missing\r\n        correct = false;\r\n        break;\r\n      }\r\n      if (clueData.answers[i].toLowerCase() !== answers[i].toLowerCase()) {\r\n        // Answer incorrect\r\n        correct = false;\r\n        break;\r\n      }\r\n    }\r\n    setConfirmed(correct);\r\n    if (correct) {\r\n      onSolved(clueData.id);\r\n    }\r\n  }\r\n\r\n\r\n  const renderSubmit = () => {\r\n\r\n    const answerSubmitted = clueData.answers && confirmed != null; // If there are answers to submit, and one has been submitted (confirmed will be true or false)\r\n    return (\r\n      <div className=\"center\">\r\n        {answerSubmitted && !confirmed && <h3>Try again!</h3>}\r\n        {answerSubmitted && confirmed && clueData.successMessage && <ReactMarkdown source={clueData.successMessage} />}\r\n        {!confirmed && answerNeeded() && <button onClick={confirmAnswers} className=\"primary mt-2\">Submit</button>}\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentClueId !== clueData.id) {\r\n    // clue is changing\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {clueData.clue && <ReactMarkdown source={clueData.clue} />}\r\n      {clueData.question && <ReactMarkdown source={clueData.question} />}\r\n      <br />\r\n      {!previouslySolved && clueData.webAnswer && (\r\n        <div>\r\n          {/* <Hint hint={clueData.hint} /> */}\r\n          {clueData.answers.map((a, index) =>\r\n            <AnswerField\r\n              key={index}\r\n              clueId={clueData.id}\r\n              answer={clueData.answers[index]}\r\n              onChange={onAnswerChange(index)}\r\n            />\r\n          )}\r\n          <br />\r\n          {renderSubmit()}\r\n          {!previouslySolved && <Confetti active={confirmed} />}\r\n          {/* <HintStateContext.Provider value={clueData.hint} /> */}\r\n        </div>\r\n      )}\r\n      {previouslySolved && (\r\n        clueData.answers.map(a => <h3 key={a}>{a}</h3>)\r\n      )}\r\n      {(confirmed || previouslySolved || !answerNeeded()) &&\r\n        <button onClick={onNextButtonClicked} className=\"center primary mt-2\">Next</button>\r\n      }\r\n\r\n    </div >\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport './gem-selector.css';\r\nimport { useEffect } from 'react';\r\nimport { delay } from '../common/delay';\r\n\r\n\r\nconst GemSelector = ({ start, value, onChange }) => {\r\n\r\n  const values = [\r\n    'red',\r\n    'orange',\r\n    'yellow',\r\n    'lightblue',\r\n    'blue',\r\n    'purple',\r\n    'pink',\r\n    'white'\r\n  ]\r\n  const [currentValue, setCurrentValue] = useState(start);\r\n\r\n  useEffect(() => {\r\n    setNextColor();\r\n  }, [currentValue, value])\r\n\r\n  function getRndInteger(min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n  }\r\n\r\n  const setNextColor = async () => {\r\n    await delay(getRndInteger(800, 1200));\r\n    if (!value) {\r\n      let nextIndex = 0;\r\n      const currentValueIndex = values.findIndex(x => x === currentValue);\r\n      if (values.length > currentValueIndex + 1) {\r\n        nextIndex = currentValueIndex + 1;\r\n      }\r\n      setCurrentValue(values[nextIndex]);\r\n    }\r\n  }\r\n\r\n  const onGemClicked = () => {\r\n    if (!value) {\r\n      onChange(currentValue);\r\n    } else {\r\n      onChange(null);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"cut-diamond\" className={value || currentValue} onClick={onGemClicked} >\r\n      {value ? '✧' : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GemSelector;","import React, { useState } from 'react';\nimport Confetti from '../../components/confetti';\nimport { useEffect } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport GemSelector from '../../components/gem-selector';\nimport { loadData, saveData } from '../../data/save-data';\nimport { Row, Col } from 'react-bootstrap';\n\nexport default ({ clueData, onSolved, onNextButtonClicked }) => {\n\n  const [answers, setAnswers] = useState([]);\n  const [confirmed, setConfirmed] = useState(null);\n  const [loaded, setLoaded] = useState(false);\n  const [showZip, setShowZip] = useState(false);\n  const [showZap, setShowZap] = useState(false);\n  const [showZop, setShowZop] = useState(false);\n\n  useEffect(() => {\n    setAnswers([]);\n    setConfirmed(null);\n    setLoaded(true);\n  }, [clueData])\n\n  useEffect(() => {\n    if (confirmed) {\n      setTimeout(() => {\n        setShowZip(true);\n      }, 100);\n      setTimeout(() => {\n        setShowZap(true);\n      }, 1100);\n      setTimeout(() => {\n        setShowZop(true);\n      }, 2100);\n    }\n  }, [confirmed])\n  const confirmAnswers = (currentAnswers) => {\n\n    //TEST\n    // setConfirmed(true);\n    // return;\n\n    var correct = true;\n    for (let i = 0; i < clueData.answers.length; i++) {\n      if (!currentAnswers[i]) {\n        // Answer missing\n        correct = false;\n        break;\n      }\n      if (clueData.answers[i].toLowerCase() !== currentAnswers[i].toLowerCase()) {\n        // Answer incorrect\n        correct = false;\n        break;\n      }\n    }\n\n\n    if (correct) {\n      setConfirmed(correct);\n      onSolved(clueData.id);\n    } else {\n      //setAnswers([null, null, null]);\n      const curData = loadData();\n      curData.deathDate = new Date();\n      saveData(curData);\n      window.location.reload(false);\n    }\n  }\n\n  const renderSubmit = () => {\n    if (confirmed && clueData.successMessage) {\n      return (\n        <>\n          <ReactMarkdown source={clueData.successMessage} />\n        </>\n      );\n    }\n\n  }\n\n  const GemValueChanged = (index, value) => {\n    const newAnswers = [...answers];\n    newAnswers[index] = value;\n    setAnswers(newAnswers);\n    if (clueData.answers.every((a, i) => !!newAnswers[i])) {\n      confirmAnswers(newAnswers);\n    }\n  }\n\n  if (!loaded) {\n    return null;\n  }\n  return (\n    <div>\n      {clueData.clue && <ReactMarkdown source={clueData.clue} />}\n      {clueData.question && <ReactMarkdown source={clueData.question} />}\n      <br />\n      {clueData.webAnswer && (\n        <div>\n\n          <div className=\"diamond-wrapper mb-4\">\n            <GemSelector start=\"red\" value={answers[0]} onChange={v => GemValueChanged(0, v)}></GemSelector>\n            <GemSelector start=\"blue\" value={answers[1]} onChange={v => GemValueChanged(1, v)}></GemSelector>\n            <GemSelector start=\"yellow\" value={answers[2]} onChange={v => GemValueChanged(2, v)} ></GemSelector>\n          </div>\n\n          <br />\n          <div>\n            <Row className={confirmed ? 'fadeIn mb-4' : 'fadeOut'}>\n              <Col className=\"center\">\n                <h3 className={showZip ? 'fadeIn' : 'fadeOut'}>ZIP</h3>\n              </Col>\n              <Col className=\"center\">\n                <h3 className={showZap ? 'fadeIn' : 'fadeOut'}>ZAP</h3>\n              </Col>\n              <Col className=\"center\">\n                <h3 className={showZop ? 'fadeIn' : 'fadeOut'}>ZOP</h3>\n              </Col>\n            </Row>\n            {renderSubmit()}\n            {/* {<Confetti active={confirmed} />} */}\n          </div>\n        </div>\n      )}\n\n    </div >\n  )\n}","import React from 'react';\r\n\r\nexport const ClueNotFound = () => {\r\n  return (\r\n    <div>\r\n      Clue does not exist\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ClueNotFound;","import React, { useContext, useEffect } from 'react';\nimport BasicClue from './basic-clue';\nimport GemClue from './gem-clue';\nimport ClueNotFound from './clue-not-found';\nimport clues from '../../data/clues';\nimport { store } from '../../data/store';\nimport Gate from '../../components/gate/gate';\nimport { useHistory } from 'react-router-dom';\nimport Inventory from '../../components/inventory';\nimport { saveProgress } from '../../data/save-data';\n\nexport const CluePage = (props) => {\n  const globalState = useContext(store);\n  const history = useHistory();\n  const { dispatch } = globalState;\n\n  const clueId = props.match.params.id\n  const clueData = clues.find(c => c.id === clueId)\n\n  useEffect(() => {\n    if (clueData) {\n      dispatch({ type: 'SET_HINT', payload: clueData.hint })\n    }\n    return function cleanup() {\n      dispatch({ type: 'SET_HINT', payload: null })\n    }\n  }, [clueData, props.match, dispatch])\n\n  const onNextButtonClicked = () => {\n    const clueIndex = clues.findIndex(c => c.id === clueId);\n    if (clueIndex + 1 < clues.length) {\n      const nextClue = clues[clueIndex + 1];\n      history.push(`/clue/${nextClue.id}`);\n    }\n  }\n\n  const getPreviousClue = () => {\n    const clueIndex = clues.findIndex(c => c.id === clueId);\n    if (clueIndex - 1 >= 0) {\n      return clues[clueIndex - 1];\n    };\n  }\n\n  const onPreviousButtonClicked = () => {\n    history.push(`/clue/${previousClue.id}`);\n  }\n\n  const onClueSolved = (id) => {\n    saveProgress(id);\n  }\n\n  const renderClue = (type) => {\n    switch (type) {\n      case 'gem-clue':\n        return <GemClue clueData={clueData} onSolved={onClueSolved} onNextButtonClicked={onNextButtonClicked} />\n      case 'basic':\n      default:\n        return <BasicClue clueData={clueData} onSolved={onClueSolved} onNextButtonClicked={onNextButtonClicked} />\n    }\n  }\n\n  if (!clueData) {\n    return <ClueNotFound />\n  }\n\n  const previousClue = getPreviousClue();\n\n  return (\n    <div className=\"ClueWrapper Page\">\n      <Gate>\n        {previousClue &&\n          (\n            <button style={{ fontSize: '14px' }} onClick={onPreviousButtonClicked}>\n              ← Previous Clue\n            </button>\n          )}\n        {renderClue(clueData.type)}\n\n        <Inventory />\n      </Gate>\n    </div>\n  );\n}\n\nexport default CluePage;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAABQUlEQVRo3u2aQRaDIAwFSb2YnBwuVtOdpZYIKCAkYdNs+mCYDyoKiGg4NlAwTmAA8ELELazDX2OMidWI+M7pe0ZjODSYGsu3tDdrv7Vz9SF/wGJWco1lWnoGjK2x1jA9IW9FsTR+j4GJNpYDEw40bN5/x0xNaC3IK8a6ghGTm9ylZRg7Abu8lZeC1YLMjeIQYC2iOLexUjAKoLRRwI9FsTdYtyhOY0yjqFGc1BhAvK91xSQA2VELYyODeQ8L8eS+yTVmbRzAuevPV7XuPE7W58ISjNpU5BkrHURrsPC/4Ro+rNuFJRgiQjKKaix1B0BcEhRspCiKMFbrIFU0WNcoDmdsliYCLCuKrIwZMx/Y4XLCE4yMohpTMI1iW2MAMPWncKQxDmD7cZwIYwW5Pn2TH9Y5X8vdqe+eBI++gfxPKFdjH34U5Cae/RiyAAAAAElFTkSuQmCC\"","import React, { useState, useEffect } from 'react';\r\nimport Countdown from 'react-countdown';\r\nimport gravestone from '../../assets/images/loz-gravestone.png';\r\nimport { loadData } from '../../data/save-data';\r\n\r\nexport default ({ children }) => {\r\n\r\n  const [respawnTime, setRespawnTime] = useState(null);\r\n  useEffect(() => {\r\n    const data = loadData();\r\n    const deathDate = data.deathDate && new Date(data.deathDate);\r\n    if (deathDate) {\r\n      const timeToSpawn = getTimeToSpawn(deathDate);\r\n      const stillDead = isStillDead(timeToSpawn);\r\n      if (stillDead) {\r\n        setRespawnTime(timeToSpawn);\r\n      }\r\n    }\r\n  }, [])\r\n\r\n\r\n  const getTimeToSpawn = (date) => {\r\n    const respawnTimeout = 10;\r\n    const responseDate = new Date(date);\r\n    responseDate.setSeconds(date.getSeconds() + respawnTimeout);\r\n    return responseDate;\r\n  }\r\n  const isStillDead = (date) => {\r\n    var now = new Date();\r\n    return (now < date);\r\n  }\r\n\r\n  const countdownRenderer = ({ hours, minutes, seconds }) => (\r\n    <span>\r\n      {seconds.toString().padStart(2, '0')}\r\n    </span>\r\n  );\r\n  const countDownOnComplete = () => { setRespawnTime(null) };\r\n\r\n\r\n  if (!respawnTime) {\r\n    return <>{children}</>\r\n  }\r\n  return (\r\n    <div className=\"center\">\r\n      <img className=\"maze-result\"\r\n        src={gravestone}\r\n        alt=\"Hero Failed\"\r\n      />\r\n      <div>\r\n        <strong>You died</strong>\r\n      </div>\r\n      <br />\r\n      <div>Respawn in&nbsp;\r\n      <Countdown\r\n          date={respawnTime}\r\n          renderer={countdownRenderer}\r\n          onComplete={countDownOnComplete} />\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n\r\n\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { loadData, saveName } from '../../data/save-data';\r\n\r\nexport default ({ children }) => {\r\n\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [name, setName] = useState();\r\n  const [confirmed, setConfirmed] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const currentSaveData = loadData();\r\n    const nameInStorage = currentSaveData.name;\r\n    if (nameInStorage) {\r\n      if (isTrueHero(nameInStorage)) {\r\n        setName(nameInStorage);\r\n        setConfirmed(true);\r\n      }\r\n    }\r\n    setLoaded(true);\r\n  }, [])\r\n\r\n\r\n  const onNameChange = (e) => {\r\n    setName(e.target.value);\r\n  }\r\n\r\n\r\n  const isTrueHero = (testName) => {\r\n    const nametoTest = testName && testName.toLowerCase();\r\n    const validNames = ['daniella', 'dani', 'elli', 'ellaadventure'];\r\n    return validNames.some(n => nametoTest);\r\n  }\r\n\r\n  const onNameSubmit = (e) => {\r\n    if (isTrueHero(name)) {\r\n      saveName(name);\r\n      setConfirmed(true);\r\n    } else {\r\n      setConfirmed(false);\r\n    }\r\n  }\r\n\r\n  const renderPrompt = () => {\r\n    if (confirmed) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className=\"center\">\r\n        <p>To begin, enter your name</p>\r\n        <input type='test' onChange={onNameChange}></input>\r\n        <br />\r\n        <br />\r\n        <button onClick={onNameSubmit} className=\"primary\">Enter</button>\r\n      </div>\r\n    );\r\n\r\n  }\r\n\r\n\r\n  if (!loaded) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {renderPrompt()}\r\n      {confirmed === false && <div>You are not the true hero. Only the chosen adventurer may enter.</div>}\r\n      {confirmed === true && children}\r\n    </>\r\n  );\r\n\r\n};","import React from 'react';\r\nimport DeathGate from './death-gate';\r\nimport NameGate from './name-gate';\r\n\r\nexport default ({ children }) => {\r\n  return (\r\n    <div className=\"Gate\">\r\n      <NameGate>\r\n        <DeathGate>\r\n          {children}\r\n        </DeathGate>\r\n      </NameGate>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport Confetti from 'react-dom-confetti';\r\n\r\nexport default ({ active }) => {\r\n  return (\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n      <Confetti active={active} config={{ spread: 120, angle: 90 }} />\r\n    </div>\r\n  );\r\n}"],"sourceRoot":""}