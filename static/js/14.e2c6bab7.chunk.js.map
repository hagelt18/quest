{"version":3,"sources":["areas/piano/dimensions-provider.jsx","areas/piano/piano.jsx","components/start-continue.jsx","components/confetti.jsx","areas/piano/soundfont-provider.js","areas/piano/songs.js"],"names":["DimensionsProvider","this","props","children","containerWidth","containerHeight","React","Component","Dimensions","Home","history","useHistory","useState","currentNote","setCurrentNote","previousNotes","setPreviousNotes","success","setSuccess","firstNote","MidiNumbers","fromNote","lastNote","config","instrumentName","noteRange","first","last","keyboardShortcutOffset","audioContext","KeyboardShortcuts","create","keyboardConfig","HOME_ROW","window","AudioContext","webkitAudioContext","useEffect","PlayNotes","zeldaSecret","className","style","fontSize","onClick","goBack","hostname","render","isLoading","playNote","stopNote","stopAllNotes","n","midiNumber","midiInfo","midiNumToNoteDictionary","find","x","note","newNotes","push","length","slice","join","onPlayNote","disabled","width","zeldaFairyShort","active","StartContinue","primary","nextClue","getNextClueId","isFirstClue","clues","id","to","display","justifyContent","spread","angle","SoundfontProvider","loadInstrument","setState","instrument","Soundfont","format","soundfont","nameToUrl","name","then","resumeAudio","audioNode","state","play","activeAudioNodes","Object","assign","stop","resume","Promise","resolve","values","forEach","node","prevProps","prevState","onLoad","defaultProps","notes","delayMs","a","delay"],"mappings":"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CxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,MACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,GAAIK,KAAM,IACxB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM,IACvB,CAAEL,WAAY,EAAGK,KAAM","file":"static/js/14.e2c6bab7.chunk.js","sourcesContent":["import React from 'react';\r\nimport Dimensions from 'react-dimensions';\r\n\r\nclass DimensionsProvider extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.children({\r\n          containerWidth: this.props.containerWidth,\r\n          containerHeight: this.props.containerHeight,\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dimensions()(DimensionsProvider);","import React, { useState } from 'react';\nimport { Piano, KeyboardShortcuts, MidiNumbers } from 'react-piano';\nimport SoundfontProvider, { PlayNotes } from './soundfont-provider';\nimport 'react-piano/dist/styles.css';\nimport DimensionsProvider from './dimensions-provider';\nimport Confetti from '../../components/confetti';\nimport { useHistory } from 'react-router-dom';\nimport { zeldaSecret, midiNumToNoteDictionary, zeldaFairyShort } from './songs';\nimport { useEffect } from 'react';\nimport StartContinue from '../../components/start-continue';\nimport Inventory from '../../components/inventory';\n\nfunction Home() {\n  const history = useHistory();\n  const [currentNote, setCurrentNote] = useState('');\n  const [previousNotes, setPreviousNotes] = useState([]);\n  const [success, setSuccess] = useState(false);\n\n  const firstNote = MidiNumbers.fromNote('c5');\n  const lastNote = MidiNumbers.fromNote('b5');\n  const config = {\n    instrumentName: 'acoustic_grand_piano',\n    noteRange: {\n      first: firstNote,\n      last: lastNote,\n    },\n    keyboardShortcutOffset: 0,\n  };\n  const keyboardShortcuts = KeyboardShortcuts.create({\n    firstNote: firstNote,\n    lastNote: lastNote,\n    keyboardConfig: KeyboardShortcuts.HOME_ROW,\n  });\n\n\n  const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n  const soundfontHostname = 'https://d1pzp51pvbm36p.cloudfront.net';\n\n\n  useEffect(() => {\n    if (success) {\n      PlayNotes(zeldaSecret, 130);\n    }\n  }, [success]);\n\n\n  const onPlayNote = (midiNumber) => {\n    const midiInfo = midiNumToNoteDictionary.find(x => x.midiNumber === midiNumber);\n    const note = midiInfo && midiInfo.note;\n    let newNotes = [...previousNotes];\n    newNotes.push(note);\n    if (newNotes.length > 8) {\n      newNotes = newNotes.slice(1, 9);\n    }\n    setPreviousNotes(newNotes);\n    setCurrentNote(note);\n    if (newNotes.join(' ') === 'A5 G5 F# G5 G5 F5 E5 F5') {\n      setSuccess(true);\n    }\n  }\n\n  const onBackClicked = () => { history.goBack() }\n  return (\n    <div className=\"Piano Page\">\n      {<button style={{ fontSize: '14px' }} onClick={onBackClicked}>← Back</button>}\n      <SoundfontProvider\n        audioContext={audioContext}\n        instrumentName={config.instrumentName}\n        hostname={soundfontHostname}\n        render={({ isLoading, playNote, stopNote, stopAllNotes }) => (\n          <div>\n            <div className=\"mt-4\">\n              <DimensionsProvider>\n                {({ containerWidth }) => {\n                  return (\n                    <div >\n                      {isLoading && <h3>Loading...</h3>}\n                      <Piano\n                        noteRange={config.noteRange}\n                        // keyboardShortcuts={keyboardShortcuts}\n                        playNote={n => { playNote(n); onPlayNote(n); }}\n                        stopNote={stopNote}\n                        disabled={isLoading}\n                        width={containerWidth}\n                      />\n                    </div>\n                  )\n                }}\n              </DimensionsProvider>\n            </div>\n          </div>)}\n      />\n      <div>\n        {currentNote}\n      </div>\n      <div>\n        {success && (\n          <div className=\"mt-2\">\n            <p><strong>Well done!</strong></p>\n            <p>Look beneath a place where you might hear <button style={{ fontSize: '24px' }} onClick={() => { PlayNotes(zeldaFairyShort, 500) }}>this song</button>.</p>\n            <StartContinue />\n          </div>\n        )}\n      </div>\n      <Confetti active={success} />\n      <Inventory />\n    </div>\n  );\n}\n\n\n\n\nexport default Home;\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getNextClueId } from '../data/save-data';\r\nimport clues from '../data/clues';\r\n\r\nconst StartContinue = ({ primary }) => {\r\n\r\n  const nextClue = getNextClueId();\r\n\r\n  const isFirstClue = clues[0].id === nextClue;\r\n\r\n  return (\r\n    <div className=\"center\">\r\n      <Link to={`/clue/${nextClue}`}>\r\n        <button className={primary ? 'primary' : ''}>\r\n          {isFirstClue ? 'Start' : 'Continue'}\r\n        </button>\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default StartContinue;","import React from 'react';\r\nimport Confetti from 'react-dom-confetti';\r\n\r\nexport default ({ active }) => {\r\n  return (\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n      <Confetti active={active} config={{ spread: 120, angle: 90 }} />\r\n    </div>\r\n  );\r\n}","// See https://github.com/danigb/soundfont-player\r\n// for more documentation on prop options.\r\nimport React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Soundfont from 'soundfont-player';\r\nimport { delay } from '../../common/delay';\r\n\r\nclass SoundfontProvider extends React.Component {\r\n  // static propTypes = {\r\n  //   instrumentName: PropTypes.string.isRequired,\r\n  //   hostname: PropTypes.string.isRequired,\r\n  //   format: PropTypes.oneOf(['mp3', 'ogg']),\r\n  //   soundfont: PropTypes.oneOf(['MusyngKite', 'FluidR3_GM']),\r\n  //   audioContext: PropTypes.instanceOf(window.AudioContext),\r\n  //   onLoad: PropTypes.func,\r\n  //   render: PropTypes.func,\r\n  // };\r\n\r\n  static defaultProps = {\r\n    format: 'mp3',\r\n    soundfont: 'MusyngKite',\r\n    instrumentName: 'acoustic_grand_piano',\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeAudioNodes: {},\r\n      instrument: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadInstrument(this.props.instrumentName);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.instrumentName !== this.props.instrumentName) {\r\n      this.loadInstrument(this.props.instrumentName);\r\n    }\r\n\r\n    if (prevState.instrument !== this.state.instrument) {\r\n      if (!this.props.onLoad) {\r\n        return;\r\n      }\r\n      this.props.onLoad({\r\n        playNote: this.playNote,\r\n        stopNote: this.stopNote,\r\n        stopAllNotes: this.stopAllNotes,\r\n      });\r\n    }\r\n  }\r\n\r\n  loadInstrument = (instrumentName) => {\r\n    // Re-trigger loading state\r\n    this.setState({\r\n      instrument: null,\r\n    });\r\n    Soundfont.instrument(this.props.audioContext, instrumentName, {\r\n      format: this.props.format,\r\n      soundfont: this.props.soundfont,\r\n      nameToUrl: (name, soundfont, format) => {\r\n        return `${this.props.hostname}/${soundfont}/${name}-${format}.js`;\r\n      },\r\n    }).then((instrument) => {\r\n      this.setState({\r\n        instrument,\r\n      });\r\n    });\r\n  };\r\n\r\n  playNote = (midiNumber) => {\r\n    this.resumeAudio().then(() => {\r\n      const audioNode = this.state.instrument.play(midiNumber);\r\n      this.setState({\r\n        activeAudioNodes: Object.assign({}, this.state.activeAudioNodes, {\r\n          [midiNumber]: audioNode,\r\n        }),\r\n      });\r\n    });\r\n  };\r\n\r\n  stopNote = (midiNumber) => {\r\n    this.resumeAudio().then(() => {\r\n      if (!this.state.activeAudioNodes[midiNumber]) {\r\n        return;\r\n      }\r\n      const audioNode = this.state.activeAudioNodes[midiNumber];\r\n      audioNode.stop();\r\n      this.setState({\r\n        activeAudioNodes: Object.assign({}, this.state.activeAudioNodes, { [midiNumber]: null }),\r\n      });\r\n    });\r\n  };\r\n\r\n  resumeAudio = () => {\r\n    if (this.props.audioContext.state === 'suspended') {\r\n      return this.props.audioContext.resume();\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n\r\n  // Clear any residual notes that don't get called with stopNote\r\n  stopAllNotes = () => {\r\n    this.props.audioContext.resume().then(() => {\r\n      const activeAudioNodes = Object.values(this.state.activeAudioNodes);\r\n      activeAudioNodes.forEach((node) => {\r\n        if (node) {\r\n          node.stop();\r\n        }\r\n      });\r\n      this.setState({\r\n        activeAudioNodes: {},\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return this.props.render\r\n      ? this.props.render({\r\n        isLoading: !this.state.instrument,\r\n        playNote: this.playNote,\r\n        stopNote: this.stopNote,\r\n        stopAllNotes: this.stopAllNotes,\r\n      })\r\n      : null;\r\n  }\r\n}\r\n\r\nexport default SoundfontProvider;\r\n\r\nexport const PlayNotes = async (notes, delayMs) => {\r\n  var instrument = await Soundfont.instrument(new AudioContext(), 'acoustic_grand_piano');\r\n  for (let n of notes) {\r\n    instrument.play(n);\r\n    await delay(delayMs);\r\n  }\r\n}","export const zeldaSecret = [79, 78, 75, 69, 68, 76, 80, 84];\nexport const zeldaFairyShort = [81, 79, 78, 79, 79, 77, 76, 77];\n\n\n\nexport const midiNumToNoteDictionary = [\n\n  { midiNumber: 127, note: 'G9' },\n  { midiNumber: 126, note: 'F#' },\n  { midiNumber: 125, note: 'F9' },\n  { midiNumber: 124, note: 'E9' },\n  { midiNumber: 123, note: 'D#' },\n  { midiNumber: 122, note: 'D9' },\n  { midiNumber: 121, note: 'C#' },\n  { midiNumber: 120, note: 'C9' },\n  { midiNumber: 119, note: 'B8' },\n  { midiNumber: 118, note: 'A#' },\n  { midiNumber: 117, note: 'A8' },\n  { midiNumber: 116, note: 'G#' },\n  { midiNumber: 115, note: 'G8' },\n  { midiNumber: 114, note: 'F#' },\n  { midiNumber: 113, note: 'F8' },\n  { midiNumber: 112, note: 'E8' },\n  { midiNumber: 111, note: 'D#' },\n  { midiNumber: 110, note: 'D8' },\n  { midiNumber: 109, note: 'C#' },\n  { midiNumber: 108, note: 'C8' },\n  { midiNumber: 107, note: 'B7' },\n  { midiNumber: 106, note: 'A#' },\n  { midiNumber: 105, note: 'A7' },\n  { midiNumber: 104, note: 'G#' },\n  { midiNumber: 103, note: 'G7' },\n  { midiNumber: 102, note: 'F#' },\n  { midiNumber: 101, note: 'F7' },\n  { midiNumber: 100, note: 'E7' },\n  { midiNumber: 99, note: 'D#' },\n  { midiNumber: 98, note: 'D7' },\n  { midiNumber: 97, note: 'C#' },\n  { midiNumber: 96, note: 'C7' },\n  { midiNumber: 95, note: 'B6' },\n  { midiNumber: 94, note: 'A#' },\n  { midiNumber: 93, note: 'A6' },\n  { midiNumber: 92, note: 'G#' },\n  { midiNumber: 91, note: 'G6' },\n  { midiNumber: 90, note: 'F#' },\n  { midiNumber: 89, note: 'F6' },\n  { midiNumber: 88, note: 'E6' },\n  { midiNumber: 87, note: 'D#' },\n  { midiNumber: 86, note: 'D6' },\n  { midiNumber: 85, note: 'C#' },\n  { midiNumber: 84, note: 'C6' },\n  { midiNumber: 83, note: 'B5' },\n  { midiNumber: 82, note: 'A#' },\n  { midiNumber: 81, note: 'A5' },\n  { midiNumber: 80, note: 'G#' },\n  { midiNumber: 79, note: 'G5' },\n  { midiNumber: 78, note: 'F#' },\n  { midiNumber: 77, note: 'F5' },\n  { midiNumber: 76, note: 'E5' },\n  { midiNumber: 75, note: 'D#' },\n  { midiNumber: 74, note: 'D5' },\n  { midiNumber: 73, note: 'C#' },\n  { midiNumber: 72, note: 'C5' },\n  { midiNumber: 71, note: 'B4' },\n  { midiNumber: 70, note: 'A#' },\n  { midiNumber: 69, note: 'A4' },\n  { midiNumber: 68, note: 'G#' },\n  { midiNumber: 67, note: 'G4' },\n  { midiNumber: 66, note: 'F#' },\n  { midiNumber: 65, note: 'F4' },\n  { midiNumber: 64, note: 'E4' },\n  { midiNumber: 63, note: 'D#' },\n  { midiNumber: 62, note: 'D4' },\n  { midiNumber: 61, note: 'C#' },\n  { midiNumber: 60, note: 'C4' },\n  { midiNumber: 59, note: 'B3' },\n  { midiNumber: 58, note: 'A#' },\n  { midiNumber: 57, note: 'A3' },\n  { midiNumber: 56, note: 'G#' },\n  { midiNumber: 55, note: 'G3' },\n  { midiNumber: 54, note: 'F#' },\n  { midiNumber: 53, note: 'F3' },\n  { midiNumber: 52, note: 'E3' },\n  { midiNumber: 51, note: 'D#' },\n  { midiNumber: 50, note: 'D3' },\n  { midiNumber: 49, note: 'C#' },\n  { midiNumber: 48, note: 'C3' },\n  { midiNumber: 47, note: 'B2' },\n  { midiNumber: 46, note: 'A#' },\n  { midiNumber: 45, note: 'A2' },\n  { midiNumber: 44, note: 'G#' },\n  { midiNumber: 43, note: 'G2' },\n  { midiNumber: 42, note: 'F#' },\n  { midiNumber: 41, note: 'F2' },\n  { midiNumber: 40, note: 'E2' },\n  { midiNumber: 39, note: 'D#' },\n  { midiNumber: 38, note: 'D2' },\n  { midiNumber: 37, note: 'C#' },\n  { midiNumber: 36, note: 'C2' },\n  { midiNumber: 35, note: 'B1' },\n  { midiNumber: 34, note: 'A#' },\n  { midiNumber: 33, note: 'A1' },\n  { midiNumber: 32, note: 'G#' },\n  { midiNumber: 31, note: 'G1' },\n  { midiNumber: 30, note: 'F#' },\n  { midiNumber: 29, note: 'F1' },\n  { midiNumber: 28, note: 'E1' },\n  { midiNumber: 27, note: 'D#' },\n  { midiNumber: 26, note: 'D1' },\n  { midiNumber: 25, note: 'C#' },\n  { midiNumber: 24, note: 'C1' },\n  { midiNumber: 23, note: 'B0' },\n  { midiNumber: 22, note: 'A#' },\n  { midiNumber: 21, note: 'A0' },\n  { midiNumber: 20, note: '' },\n  { midiNumber: 19, note: '' },\n  { midiNumber: 18, note: '' },\n  { midiNumber: 17, note: '' },\n  { midiNumber: 16, note: '' },\n  { midiNumber: 15, note: '' },\n  { midiNumber: 14, note: '' },\n  { midiNumber: 13, note: '' },\n  { midiNumber: 12, note: '' },\n  { midiNumber: 11, note: '' },\n  { midiNumber: 10, note: '' },\n  { midiNumber: 9, note: '' },\n  { midiNumber: 8, note: '' },\n  { midiNumber: 7, note: '' },\n  { midiNumber: 6, note: '' },\n  { midiNumber: 5, note: '' },\n  { midiNumber: 4, note: '' },\n  { midiNumber: 3, note: '' },\n  { midiNumber: 2, note: '' },\n  { midiNumber: 1, note: '' },\n  { midiNumber: 0, note: '' },\n]"],"sourceRoot":""}